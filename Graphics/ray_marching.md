# 레이 마칭(Ray Marching)

- 3D 공간에서 광선이 물체나 볼륨에 닿을 때까지 일정한 간격으로 이동하며 샘플링(Sampling)하는 기술
- 주로 볼륨 렌더링이나 **사인 거리 필드(SDF)** 를 사용한 장면에서 활용

### 동작 방식:

1. 광선(ray) 발사: 카메라에서 광선을 특정 방향으로 발사
2. 스텝(step) 단위 이동: 광선은 일정한 거리만큼 앞으로 이동하면서, 물체 또는 볼륨과의 거리를 샘플링

   - 이 거리는 스텝 크기(step size)로 조정
   - 스텝 크기가 작을수록 정밀도가 높지만, 계산 비용이 증가함

3. 충돌 검사: 광선이 물체와의 거리(또는 밀도 값)가 특정 임계값 이하로 줄어들면 해당 위치에서 광선이 멈추고, 해당 픽셀의 색상 등을 계산합니다.

   - 이동한 위치에서 거리(거리함수), 밀도(볼륨 데이터), 또는 광원 정보 등을 샘플링

4. 최대 거리 초과 시 종료: 광선이 설정된 최대 거리에 도달해도 충돌이 없으면 배경색으로 처리됩니다.

   - 광선이 이동하는 과정에서 물체 표면이나 특정 밀도(예: 구름의 밀도)를 감지하지 못하면, 해당 광선은 "빈 공간"을 통과한 것으로 간주됨
   - 배경색은 장면에서 아무것도 없는 공간(즉, 객체가 없는 영역)에 대해 정의된 색상(단색, 그라디언트, 이미지 기반-하늘이나 환경 배경)

## 샘플링(Sampling)

- 공간이나 시간 상의 특정 지점을 선택해 데이터를 추출하거나 계산하는 작업
- 연속적인 데이터(예: 거리 필드, 텍스처)를 불연속적인 지점에서 측정하여 계산 효율성을 높임
- Ray Marching에서의 샘플링: 광선이 장면을 따라 이동하며 각 지점의 데이터를 확인하는 과정

Ray Marching 알고리즘에서 광선이 최대 거리까지 이동한 경우:충돌 여부를 체크합니다.
충돌하지 않았다면, 배경색 값(예: RGB 값)을 해당 픽셀에 할당합니다.
